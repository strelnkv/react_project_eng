{"ast":null,"code":"import _toConsumableArray from\"/Users/mariastrelnikova/Code/react_project_eng/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/mariastrelnikova/Code/react_project_eng/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mariastrelnikova/Code/react_project_eng/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mariastrelnikova/Code/react_project_eng/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../../style/App.scss\";import Header from\"../Header/Header\";import Main from\"../Main/Main\";import Footer from\"../Footer/Footer\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import Table from\"../Main/Table\";import data from\"../../words.json\";import Missing from\"../Missing\";// import WordsContextProvider from \"./Words\";\nimport{WordsContext}from\"./Words\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),words=_useState2[0],setWords=_useState2[1];var url=\"http://itgirlschool.justmakeit.ru/api/words\";useEffect(function(){fetch(url).then(function(response){return response.json();}).then(function(data){return setWords(data);});},[]);function updateWord(_x){return _updateWord.apply(this,arguments);}function _updateWord(){_updateWord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(word){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(url,\"/\").concat(word.id,\"/update\"),{method:\"POST\",body:JSON.stringify(word)});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Response status: \".concat(response.status));case 6:_context.next=8;return response.json();case 8:json=_context.sent;console.log(json);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return _updateWord.apply(this,arguments);}function deleteWord(_x2){return _deleteWord.apply(this,arguments);}function _deleteWord(){_deleteWord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(wordId){var response,json;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(url,\"/\").concat(wordId,\"/delete\"),{method:\"POST\"});case 3:response=_context2.sent;if(response.ok){_context2.next=6;break;}throw new Error(\"Response status: \".concat(response.status));case 6:_context2.next=8;return response.json();case 8:json=_context2.sent;setWords(words.filter(function(word){return word.id!==wordId;}));_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 15:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return _deleteWord.apply(this,arguments);}function addWord(_x3){return _addWord.apply(this,arguments);}function _addWord(){_addWord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(word){var response,json;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(url,\"/add\"),{body:JSON.stringify(word),method:\"POST\"});case 3:response=_context3.sent;if(response.ok){_context3.next=6;break;}throw new Error(\"Response status: \".concat(response.status));case 6:_context3.next=8;return response.json();case 8:json=_context3.sent;setWords([].concat(_toConsumableArray(words),[json]));_context3.next=15;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0.message);case 15:case\"end\":return _context3.stop();}},_callee3,null,[[0,12]]);}));return _addWord.apply(this,arguments);}return/*#__PURE__*/_jsx(WordsContext.Provider,{value:{words:words,updateWord:updateWord,deleteWord:deleteWord,addWord:addWord},children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Table,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cards\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/footer\",element:/*#__PURE__*/_jsx(Footer,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Missing,{})})]})]})})});}export default App;","map":{"version":3,"names":["Header","Main","Footer","BrowserRouter","Router","Routes","Route","Table","data","Missing","WordsContext","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","words","setWords","url","fetch","then","response","json","updateWord","_x","_updateWord","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","word","wrap","_callee$","_context","prev","next","concat","id","method","body","JSON","stringify","sent","ok","Error","status","console","log","t0","error","message","stop","deleteWord","_x2","_deleteWord","_callee2","wordId","_callee2$","_context2","filter","addWord","_x3","_addWord","_callee3","_callee3$","_context3","_toConsumableArray","Provider","value","children","className","path","element"],"sources":["/Users/mariastrelnikova/Code/react_project_eng/src/components/App/App.jsx"],"sourcesContent":["import \"../../style/App.scss\";\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\nimport Footer from \"../Footer/Footer\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport Table from \"../Main/Table\";\nimport data from \"../../words.json\";\nimport Missing from \"../Missing\";\n// import WordsContextProvider from \"./Words\";\nimport { WordsContext } from \"./Words\";\nimport { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [words, setWords] = useState([]);\n\n  const url = \"http://itgirlschool.justmakeit.ru/api/words\";\n\n  useEffect(() => {\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => setWords(data));\n  }, []);\n\n  async function updateWord(word) {\n    try {\n      const response = await fetch(`${url}/${word.id}/update`, {\n        method: \"POST\",\n        body: JSON.stringify(word),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Response status: ${response.status}`);\n      }\n\n      const json = await response.json();\n      console.log(json);\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  async function deleteWord(wordId) {\n    try {\n      const response = await fetch(`${url}/${wordId}/delete`, {\n        method: \"POST\",\n      });\n\n      if (!response.ok) {\n        throw new Error(`Response status: ${response.status}`);\n      }\n\n      const json = await response.json();\n      setWords(words.filter((word) => word.id !== wordId));\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  async function addWord(word) {\n    try {\n      const response = await fetch(`${url}/add`, {\n        body: JSON.stringify(word),\n        method: \"POST\",\n      });\n\n      if (!response.ok) {\n        throw new Error(`Response status: ${response.status}`);\n      }\n      const json = await response.json();\n\n      setWords([...words, json]);\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  return (\n    <WordsContext.Provider value={{ words, updateWord, deleteWord, addWord }}>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <Routes>\n            <Route path=\"/\" element={<Table></Table>} />\n            <Route path=\"/cards\" element={<Main></Main>} />\n            <Route path=\"/footer\" element={<Footer />} />\n            <Route path=\"*\" element={<Missing />} />\n          </Routes>\n        </div>\n      </Router>\n    </WordsContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}